{"version":3,"sources":["Mall.js","List.js","Footer.js","Sidebar.js","Map.js","Data.js","App.js","registerServiceWorker.js","index.js","images/fs_fallback.jpg"],"names":["Mall","id","mall","setSelected","isSelected","handleClick","detailsOutput","details","response","venue","bestPhoto","name","ratingColor","rating","location","likes","canonicalUrl","markup","prefix","suffix","fallbackImg","formattedAddress","count","document","querySelector","innerHTML","alert","meta","errorDetail","fetch","then","res","json","data","catch","err","className","role","tabIndex","onClick","e","onKeyPress","aria-label","List","filteredList","filterList","selectedId","type","placeholder","onChange","target","value","length","map","key","Footer","href","rel","xlinkHref","Sidebar","props","Map","state","bounds","markers","updateMarkers","malls","prevMalls","maps","window","google","tempMarkers","forEach","marker","position","lat","lng","Marker","animation","Animation","DROP","infowindow","InfoWindow","content","addListener","open","close","push","setState","mallsIds","prevMallsIds","mallsRemoved","filter","indexOf","setMap","mallsAdded","fitBounds","places","a","LatLngBounds","newBounds","place","extend","setCenter","getCenter","recenterMap","zoom","setZoom","activateMarker","setAnimation","deactivateMarker","prevProps","this","aria-roledescription","Component","Data","gmapId","coor","fsId","mapStyles","featureType","elementType","stylers","visibility","color","lightness","App","selected","query","toLowerCase","trim","AsyncHOCCallback","getElementById","center","styles","disableDefaultUI","venues","AsyncHOC","asyncScriptOnLoad","makeAsyncScriptLoader","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","error","ReactDOM","render","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.26af983b.chunk.js","sourcesContent":["import React from 'react'\nimport fallbackImg from './images/fs_fallback.jpg'\n\nconst Mall = ({ mall, setSelected, isSelected }) => {\n  const handleClick = () => {\n    if (!isSelected) setSelected(mall)\n  }\n\n  const fetchFourSquare = id => {\n    fetch(`https://api.foursquare.com/v2/venues/${id}?client_id=N0UR5Z3XKXDNY4GWMBV4H4J0VZIHDCKLUZIZ0U4RBNLAE1CG&client_secret=LVDZ0NKPQVY1SMUFSVJJT02ARZOJXWUFMIJ1AZ0ACSLMKNHR&v=20180620`)\n      .then(res => res.json())\n      .then(data => detailsOutput(data))\n      .catch(err => alert(`Unable to get data from FourSquare (${err})`))\n  }\n\n  const detailsOutput = details => {\n    if (details.response.venue) {\n      const { bestPhoto, name, ratingColor, rating, location, likes, canonicalUrl, id } = details.response.venue\n\n      const markup = `\n                <img class=\"photo\" src=\"${bestPhoto ? `${bestPhoto.prefix}500x300${bestPhoto.suffix}` : fallbackImg}\" alt=\"${name}\" onload=\"this.parentElement.parentElement.scrollIntoView({behavior: 'smooth'})\">\n                ${rating ? `<div class=\"rating\" style=\"color: #${ratingColor};\">${rating}</div>` : ''}\n                <div class=\"address\"><svg><use xlink:href=\"./icons.svg#marker\"></use></svg>${location.formattedAddress[0]}</div>\n                <div class=\"status\"><svg><use xlink:href=\"./icons.svg#like\"></use></svg>Liked by ${likes.count} user</div>\n                <a class=\"link\" href=\"${canonicalUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">More on FourSquare<svg><use xlink:href=\"./icons.svg#link\"></use></svg></a>\n            `\n\n      document.querySelector(`#fs${id} .details`).innerHTML = markup\n    } else {\n      alert(`Unable to get details from FourSquare (${details.meta.errorDetail})`)\n    }\n  }\n\n  if (isSelected) fetchFourSquare(mall.id)\n\n  return (\n    <li className={`place${isSelected ? ' selected' : ''}`} role='button' tabIndex='0' id={`fs${mall.id}`} onClick={e => handleClick()} onKeyPress={e => handleClick()}>\n      <h4 className='name'>{mall.name}</h4>\n      <span className='close' aria-label='Close' role='button' tabIndex='0' onClick={e => setSelected(null)}>\n        X\n      </span>\n      <div className='details'>Loading mall details...</div>\n    </li>\n  )\n}\n\nexport default Mall\n","import React from 'react'\r\nimport Mall from './Mall'\r\n\r\nconst List = ({ filteredList, filterList, selectedId, setSelected }) => {\r\n  return (\r\n    <>\r\n      <input type='text' className='filter' placeholder='Filter Places' aria-label='Filter' onChange={e => filterList(e.target.value)} />\r\n\r\n      <ol className='places'>\r\n        {filteredList.length > 0 ? (\r\n          filteredList.map(mall => <Mall key={mall.id} mall={mall} setSelected={setSelected} isSelected={mall.id === selectedId} />)\r\n        ) : (\r\n          <li className='place' key='no-match'>\r\n            <h4 className='name'>Unfortunately, your keyword doesn't match any of the listed malls.</h4>\r\n          </li>\r\n        )}\r\n      </ol>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default List\r\n","import React from 'react'\n\nconst Footer = () => {\n  return (\n    <footer className='footer' id='footer'>\n      <div className='footer__follow'>\n        <a href='https://twitter.com/fullstackamr/' target='_blank' rel='noopener noreferrer'>\n          <svg>\n            <use xlinkHref='./icons.svg#twitter'></use>\n          </svg>\n        </a>\n        <a href='https://github.com/amr-adel/' target='_blank' rel='noopener noreferrer'>\n          <svg>\n            <use xlinkHref='./icons.svg#github'></use>\n          </svg>\n        </a>\n        <a href='https://www.linkedin.com/in/amr-abdelmoez/' target='_blank' rel='noopener noreferrer'>\n          <svg>\n            <use xlinkHref='./icons.svg#linkedin'></use>\n          </svg>\n        </a>\n        <a href='https://codepen.io/amr-adel/' target='_blank' rel='noopener noreferrer'>\n          <svg>\n            <use xlinkHref='./icons.svg#codepen'></use>\n          </svg>\n        </a>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport List from './List'\nimport Footer from './Footer'\n\nconst Sidebar = props => {\n  return (\n    <section className='sidebar'>\n      <header className='header'>\n        <div className='brand'>\n          <h1>\n            <svg className='logo'>\n              <use xlinkHref='./icons.svg#bag'></use>\n            </svg>\n          </h1>\n        </div>\n      </header>\n\n      <List {...props} />\n\n      <Footer />\n    </section>\n  )\n}\n\nexport default Sidebar\n","import React, { Component } from 'react'\r\n\r\nclass Map extends Component {\r\n  state = {\r\n    bounds: null,\r\n    markers: []\r\n  }\r\n\r\n  updateMarkers = (malls, prevMalls) => {\r\n    const { markers } = this.state\r\n    const { map, setSelected } = this.props\r\n    const { maps } = window.google\r\n\r\n    if (!markers.length) {\r\n      let tempMarkers = []\r\n\r\n      malls.forEach(mall => {\r\n        let marker\r\n        const position = { lat: mall.location.lat, lng: mall.location.lng }\r\n\r\n        marker = new maps.Marker({\r\n          position,\r\n          animation: maps.Animation.DROP,\r\n          map: map,\r\n          id: mall.id\r\n        })\r\n\r\n        var infowindow = new maps.InfoWindow({\r\n          content: `<h4>${mall.name}</h4>`\r\n        })\r\n\r\n        marker.addListener('click', () => setSelected(mall))\r\n        marker.addListener('mouseover', () => infowindow.open(map, marker))\r\n        marker.addListener('mouseout', () => infowindow.close())\r\n\r\n        tempMarkers.push(marker)\r\n      })\r\n\r\n      this.setState({ markers: tempMarkers })\r\n    }\r\n\r\n    const mallsIds = malls.map(mall => mall.id)\r\n    const prevMallsIds = prevMalls.map(mall => mall.id)\r\n\r\n    if (malls.length < prevMalls.length) {\r\n      const mallsRemoved = prevMallsIds.filter(id => mallsIds.indexOf(id) === -1)\r\n      markers.forEach(marker => {\r\n        if (mallsRemoved.indexOf(marker.id) !== -1) marker.setMap(null)\r\n      })\r\n    } else if (malls.length > prevMalls.length) {\r\n      const mallsAdded = mallsIds.filter(id => prevMallsIds.indexOf(id) === -1)\r\n      markers.forEach(marker => {\r\n        if (mallsAdded.indexOf(marker.id) !== -1) marker.setMap(map)\r\n      })\r\n    }\r\n  }\r\n\r\n  fitBounds = async places => {\r\n    const { maps } = window.google\r\n    const { map } = this.props\r\n\r\n    const newBounds = await new maps.LatLngBounds()\r\n\r\n    this.setState({ bounds: newBounds })\r\n\r\n    places.forEach(place => {\r\n      const position = { lat: place.location.lat, lng: place.location.lng }\r\n      this.state.bounds.extend(position)\r\n    })\r\n\r\n    map.fitBounds(this.state.bounds)\r\n    map.setCenter(this.state.bounds.getCenter())\r\n  }\r\n\r\n  recenterMap = (location = { lat: 30.0444, lng: 31.2357 }, zoom = 11) => {\r\n    const { map } = this.props\r\n    map.setZoom(zoom)\r\n    map.setCenter(location)\r\n  }\r\n\r\n  activateMarker = marker => {\r\n    marker.setAnimation(1)\r\n    this.recenterMap(marker.position, 15)\r\n  }\r\n\r\n  deactivateMarker = marker => {\r\n    marker.setAnimation(5)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { maps } = window.google\r\n    const { filteredList, setSelected, selectedId, map } = this.props\r\n    const { markers } = this.state\r\n\r\n    if (maps && map) {\r\n      if (filteredList.length !== prevProps.filteredList.length) {\r\n        this.updateMarkers(filteredList, prevProps.filteredList)\r\n        switch (filteredList.length) {\r\n          case 0:\r\n            this.recenterMap()\r\n            break\r\n          case 1:\r\n            setSelected(filteredList[0])\r\n            break\r\n          default:\r\n            this.fitBounds(filteredList)\r\n        }\r\n      }\r\n\r\n      if (selectedId !== prevProps.selectedId) {\r\n        if (selectedId !== null) {\r\n          markers.forEach(marker => {\r\n            marker.id === selectedId ? this.activateMarker(marker) : this.deactivateMarker(marker)\r\n          })\r\n        } else {\r\n          markers.forEach(marker => this.deactivateMarker(marker))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='map' role='application' aria-roledescription='map for malls list'>\r\n        Loading map...\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Map\r\n","var Data = {\r\n  malls: [\r\n    {\r\n      name: 'Mall of Arabia',\r\n      gmapId: 'ChIJeZAyaVFXWBQRD4a_Vq4vVvg',\r\n      coor: {\r\n        lat: 30.0062993,\r\n        lng: 30.97348050000005\r\n      },\r\n      fsId: '4e64d41e483bd9a975557768'\r\n    },\r\n    {\r\n      name: 'Cairo Festival City Mall',\r\n      gmapId: 'ChIJYQYFKvE8WBQRIJRXhDyYEYE',\r\n      coor: {\r\n        lat: 30.0319579,\r\n        lng: 31.408473100000037\r\n      },\r\n      fsId: '5268f5d2498ee025c2cb6794'\r\n    },\r\n    {\r\n      name: 'Downtown Mall',\r\n      gmapId: 'ChIJ98iK8-88WBQR_RBD6r2sO2A',\r\n      coor: {\r\n        lat: 30.0174272,\r\n        lng: 31.412420500000053\r\n      },\r\n      fsId: '4d5d3a959ac9a09369027994'\r\n    },\r\n    {\r\n      name: 'Americana Plaza',\r\n      gmapId: 'ChIJ4wWsX2paWBQRGPkCKzwfhy0',\r\n      coor: {\r\n        lat: 30.0275716,\r\n        lng: 31.013195600000017\r\n      },\r\n      fsId: '507d61dfe4b087a6ab444d33'\r\n    },\r\n    {\r\n      name: 'Citystars Mall',\r\n      gmapId: 'ChIJo0ecE_gVWBQRGGrouhZFdME',\r\n      coor: {\r\n        lat: 30.072979,\r\n        lng: 31.34604999999999\r\n      },\r\n      fsId: '4b853e48f964a520845231e3'\r\n    },\r\n    {\r\n      name: 'Sun City Mall',\r\n      gmapId: 'ChIJmVTb2UUWWBQRjnpeYIqBncQ',\r\n      coor: {\r\n        lat: 30.102616,\r\n        lng: 31.38614480000001\r\n      },\r\n      fsId: '53e0e485498e46a6b3609b09'\r\n    },\r\n    {\r\n      name: 'Mall Of Egypt',\r\n      gmapId: 'ChIJGfFdneZQWBQRoFxwQ5okV14',\r\n      coor: {\r\n        lat: 29.9722532,\r\n        lng: 31.017524399999957\r\n      },\r\n      fsId: '519dcd44498e2ebd18d8e1d2'\r\n    },\r\n    {\r\n      name: 'First Mall',\r\n      gmapId: 'ChIJnQUHZCdHWBQRDaAJ6j1aog0',\r\n      coor: {\r\n        lat: 30.0242101,\r\n        lng: 31.217196400000034\r\n      },\r\n      fsId: '4c72eb0457b6a143e8d1c6cc'\r\n    },\r\n    {\r\n      name: 'Nile City Towers',\r\n      gmapId: 'ChIJUTumGvpAWBQRdeaHrFtl1HM',\r\n      coor: {\r\n        lat: 30.0715475,\r\n        lng: 31.22782559999996\r\n      },\r\n      fsId: '4ce9181ae888f04d3e2f466b'\r\n    },\r\n    {\r\n      name: 'Porto Cairo Mall',\r\n      gmapId: 'ChIJ5_bMsF89WBQRM7-YOesuHM8',\r\n      coor: {\r\n        lat: 30.0644511,\r\n        lng: 31.42453690000002\r\n      },\r\n      fsId: '4fb8a611e4b04abc0c11d4bc'\r\n    },\r\n    {\r\n      name: 'Genena Mall',\r\n      gmapId: 'ChIJa_i0F2g-WBQRr7xwkbhUzpw',\r\n      coor: {\r\n        lat: 30.0610462,\r\n        lng: 31.3299931\r\n      },\r\n      fsId: '4c4bedd8712ac9282981976d'\r\n    },\r\n    {\r\n      name: 'Arkadia Mall',\r\n      gmapId: 'ChIJNXz3ZvpAWBQRtbdRovhD6aQ',\r\n      coor: {\r\n        lat: 30.069613349999997,\r\n        lng: 31.227202691153604\r\n      },\r\n      fsId: '50dc283de4b057fecdd1e610'\r\n    },\r\n    {\r\n      name: 'Tiba Outlet Mall',\r\n      gmapId: 'ChIJj1eMyEE-WBQRqOFFesZ-c7o',\r\n      coor: {\r\n        lat: 30.06734595,\r\n        lng: 31.32987509169704\r\n      },\r\n      fsId: '4e31e68cb0fbb985a508ee47'\r\n    },\r\n    {\r\n      name: 'Cairo Mall',\r\n      gmapId: 'ChIJAQAAAJxFWBQRCmuO5k3gAb8',\r\n      coor: {\r\n        lat: 29.9986787,\r\n        lng: 31.1735371\r\n      },\r\n      fsId: '4e725f2f183821b8cc96fdac'\r\n    },\r\n    {\r\n      name: 'Talaat Harb Mall',\r\n      gmapId: 'ChIJb1BvepVAWBQRY6OnzlEYbZI',\r\n      coor: {\r\n        lat: 30.05016095,\r\n        lng: 31.239893859811517\r\n      },\r\n      fsId: '4ec14a6b5c5c3d470d610538'\r\n    },\r\n    {\r\n      name: 'City Center Mall',\r\n      gmapId: 'ChIJw4AoL3I-WBQRzql0xs_BnNs',\r\n      coor: {\r\n        lat: 30.0683421,\r\n        lng: 31.3446867\r\n      },\r\n      fsId: '4bd9d7493904a5936cd4439e'\r\n    },\r\n    {\r\n      name: 'Maadi City Center',\r\n      gmapId: 'ChIJa31qzKhHWBQR9KlOjzqX0iM',\r\n      coor: {\r\n        lat: 29.9825607,\r\n        lng: 31.3162377\r\n      },\r\n      fsId: '4c421543a48d9c7418c70c40'\r\n    },\r\n    {\r\n      name: 'Maadi Grand Mall',\r\n      gmapId: 'ChIJESyQo3M4WBQRz5lXBs5ZO5o',\r\n      coor: {\r\n        lat: 29.964932,\r\n        lng: 31.2679123\r\n      },\r\n      fsId: '4bcb02fdcc8cd13ab88abecf'\r\n    },\r\n    {\r\n      name: 'Dandy Mall',\r\n      gmapId: 'ChIJ3QwL3qNbWBQR9nQCXPvj5Z0',\r\n      coor: {\r\n        lat: 30.0633801,\r\n        lng: 31.0255163\r\n      },\r\n      fsId: '4b743b8bf964a520b9ce2de3'\r\n    },\r\n    {\r\n      name: 'Zizinia Mall',\r\n      gmapId: 'ChIJBYbSBnhGWBQRlRQgkTWllls',\r\n      coor: {\r\n        lat: 29.9981988,\r\n        lng: 31.1690108\r\n      },\r\n      fsId: '55081363498ed14f195a8b16'\r\n    }\r\n  ],\r\n  mapStyles: [\r\n    {\r\n      featureType: 'landscape.natural',\r\n      elementType: 'geometry.fill',\r\n      stylers: [\r\n        {\r\n          visibility: 'on'\r\n        },\r\n        {\r\n          color: '#e0efef'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'poi',\r\n      elementType: 'geometry.fill',\r\n      stylers: [\r\n        {\r\n          visibility: 'off'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          lightness: 100\r\n        },\r\n        {\r\n          visibility: 'simplified'\r\n        },\r\n        {\r\n          color: '#e6d7c5'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'labels',\r\n      stylers: [\r\n        {\r\n          visibility: 'off'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'transit.line',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          visibility: 'on'\r\n        },\r\n        {\r\n          lightness: 700\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'water',\r\n      elementType: 'all',\r\n      stylers: [\r\n        {\r\n          color: '#7fc1d3'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default Data\r\n","import React, { Component } from 'react'\r\nimport Sidebar from './Sidebar'\r\nimport Map from './Map'\r\nimport Data from './Data'\r\nimport makeAsyncScriptLoader from 'react-async-script'\r\nimport './App.css'\r\n\r\nclass App extends Component {\r\n  state = {\r\n    malls: [],\r\n    filteredList: [],\r\n    selected: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`https://api.foursquare.com/v2/venues/search?near=cairo&categoryId=4bf58dd8d48988d1fd941735&client_id=N0UR5Z3XKXDNY4GWMBV4H4J0VZIHDCKLUZIZ0U4RBNLAE1CG&client_secret=LVDZ0NKPQVY1SMUFSVJJT02ARZOJXWUFMIJ1AZ0ACSLMKNHR&v=20191020`)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.setState({\r\n          malls: data.response.venues,\r\n          filteredList: data.response.venues\r\n        })\r\n      })\r\n      .catch(err => alert(`Unable to get data from FourSquare (${err})`))\r\n  }\r\n\r\n  filterList = query => {\r\n    this.setState({\r\n      filteredList: this.state.malls.filter(mall => mall.name.toLowerCase().indexOf(query.trim().toLowerCase()) !== -1),\r\n      selected: null\r\n    })\r\n  }\r\n\r\n  setSelected = mall => {\r\n    this.setState({ selected: mall })\r\n  }\r\n\r\n  AsyncHOCCallback = () => {\r\n    if (window.google) {\r\n      var map = new window.google.maps.Map(document.getElementById('map'), {\r\n        zoom: 11,\r\n        center: { lat: 30.0444, lng: 31.2357 },\r\n        styles: Data.mapStyles,\r\n        disableDefaultUI: true\r\n      })\r\n\r\n      this.setState({ map })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filteredList, selected, map } = this.state\r\n    let selectedId = selected ? selected.id : null\r\n\r\n    return (\r\n      <div className='App'>\r\n        <Sidebar filterList={this.filterList} setSelected={this.setSelected} selectedId={selectedId} filteredList={filteredList} />\r\n\r\n        <AsyncHOC asyncScriptOnLoad={this.AsyncHOCCallback} setSelected={this.setSelected} selectedId={selectedId} filteredList={filteredList} map={map} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst URL = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCA5F0pGoVUQo0ZTtUInz6Kd_XfmOW3rAI'\r\n\r\nconst AsyncHOC = makeAsyncScriptLoader(URL)(Map)\r\n\r\nexport default App\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n","module.exports = __webpack_public_path__ + \"static/media/fs_fallback.69fea0a0.jpg\";"],"sourceRoot":""}