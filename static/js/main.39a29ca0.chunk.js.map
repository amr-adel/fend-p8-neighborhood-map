{"version":3,"sources":["ListPlaces.js","Data.js","Map.js","App.js","registerServiceWorker.js","index.js","images/fs_fallback.jpg"],"names":["ListPlaces","query","this","props","filter","selectMall","selected","document","getElementsByClassName","length","classList","remove","id","fetch","then","res","json","data","detailsOutput","catch","err","alert","details","response","venue","bestPhoto","name","ratingColor","rating","location","likes","canonicalUrl","markup","prefix","suffix","fallbackImg","formattedAddress","count","querySelector","innerHTML","meta","errorDetail","prevProps","hideInfo","fetchFourSquare","getElementById","add","mall","target","filteredMalls","className","xlinkHref","type","placeholder","aria-label","onChange","e","value","map","key","role","tabIndex","onClick","tagName","onKeyPress","href","rel","Component","Data","malls","gmapId","coor","lat","lng","fsId","mapStyles","featureType","elementType","stylers","visibility","color","lightness","Map","state","bounds","markers","google","updateMarkers","marker","setMap","newMarkers","forEach","Marker","position","animation","Animation","DROP","addListener","extend","push","setState","fitBounds","setCenter","getCenter","recenterMap","setZoom","isScriptLoaded","isScriptLoadSucceed","window","maps","zoom","center","styles","disableDefaultUI","LatLngBounds","prevState","setAnimation","activeMarkerIndex","indexOf","BOUNCE","aria-roledescription","scriptLoader","App","updateQuery","bind","venues","toLowerCase","trim","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","error","ReactDOM","render","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.39a29ca0.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport fallbackImg from './images/fs_fallback.jpg'\r\n\r\nclass ListPlaces extends Component {\r\n  filter(query) {\r\n    const { filter, selectMall } = this.props\r\n\r\n    filter(query)\r\n\r\n    selectMall(null)\r\n  }\r\n\r\n  hideInfo() {\r\n    let selected = document.getElementsByClassName('selected')\r\n\r\n    if (selected.length !== 0) {\r\n      selected[0].classList.remove('selected')\r\n    }\r\n  }\r\n\r\n  fetchFourSquare(id) {\r\n    fetch(`https://api.foursquare.com/v2/venues/${id}?client_id=N0UR5Z3XKXDNY4GWMBV4H4J0VZIHDCKLUZIZ0U4RBNLAE1CG&client_secret=LVDZ0NKPQVY1SMUFSVJJT02ARZOJXWUFMIJ1AZ0ACSLMKNHR&v=20180620`)\r\n      .then(res => res.json())\r\n      .then(data => this.detailsOutput(data))\r\n      .catch(err => alert(`Unable to get data from FourSquare (${err})`))\r\n  }\r\n\r\n  detailsOutput(details) {\r\n    if (details.response.venue) {\r\n      const { bestPhoto, name, ratingColor, rating, location, likes, canonicalUrl, id } = details.response.venue\r\n\r\n      const markup = `\r\n                <img class=\"photo\" src=\"${bestPhoto ? `${bestPhoto.prefix}500x300${bestPhoto.suffix}` : fallbackImg}\" alt=\"${name}\" onload=\"this.parentElement.parentElement.scrollIntoView({behavior: 'smooth'})\">\r\n                ${rating ? `<div class=\"rating\" style=\"color: #${ratingColor};\">${rating}</div>` : ''}\r\n                <div class=\"address\"><svg><use xlink:href=\"./icons.svg#marker\"></use></svg>${location.formattedAddress[0]}</div>\r\n                <div class=\"status\"><svg><use xlink:href=\"./icons.svg#like\"></use></svg>Liked by ${likes.count} user</div>\r\n                <a class=\"link\" href=\"${canonicalUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">More on FourSquare<svg><use xlink:href=\"./icons.svg#link\"></use></svg></a>\r\n            `\r\n\r\n      document.querySelector(`#fs${id} .details`).innerHTML = markup\r\n    } else {\r\n      alert(`Unable to get details from FourSquare (${details.meta.errorDetail})`)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { selected } = this.props\r\n\r\n    if (prevProps.selected === selected) {\r\n      return false\r\n    } else {\r\n      this.hideInfo()\r\n\r\n      if (selected !== null) {\r\n        this.fetchFourSquare(selected.id)\r\n\r\n        document.getElementById('fs' + selected.id).classList.add('selected')\r\n      }\r\n    }\r\n  }\r\n\r\n  selectMall(mall, target) {\r\n    const { selected, selectMall } = this.props\r\n\r\n    if (target === 'SPAN') {\r\n      selectMall(null)\r\n    } else if (selected === mall) {\r\n      return false\r\n    } else {\r\n      selectMall(mall)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { filteredMalls } = this.props\r\n\r\n    return (\r\n      <section className='sidebar'>\r\n        <header className='header'>\r\n          <div className='brand'>\r\n            <h1>\r\n              <svg className='logo'>\r\n                <use xlinkHref='./icons.svg#bag'></use>\r\n              </svg>\r\n              Malls<span>Of</span>Cairo\r\n            </h1>\r\n          </div>\r\n        </header>\r\n\r\n        <input type='text' className='filter' placeholder='Filter Places' aria-label='Filter' onChange={e => this.filter(e.target.value)} />\r\n\r\n        <ol className='places'>\r\n          {filteredMalls.length > 0 ? (\r\n            filteredMalls.map(mall => (\r\n              <li key={mall.id} className='place' role='button' tabIndex='0' id={`fs${mall.id}`} onClick={e => this.selectMall(mall, e.target.tagName)} onKeyPress={e => this.selectMall(mall, e.target.tagName)}>\r\n                <h4 className='name'>{mall.name}</h4>\r\n                <span className='close' aria-label='Close' role='button' tabIndex='0'>\r\n                  X\r\n                </span>\r\n                <div className='details'>Loading mall details...</div>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <li className='place' key='no-match'>\r\n              <h4 className='name'>Unfortunately, your keyword doesn't match any of the listed malls.</h4>\r\n            </li>\r\n          )}\r\n        </ol>\r\n\r\n        <footer className='footer' id='footer'>\r\n          <div className='footer__follow'>\r\n            <a href='https://twitter.com/fullstackamr/' target='_blank' rel='noopener noreferrer'>\r\n              <svg>\r\n                <use xlinkHref='./icons.svg#twitter'></use>\r\n              </svg>\r\n            </a>\r\n            <a href='https://github.com/amr-adel/' target='_blank' rel='noopener noreferrer'>\r\n              <svg>\r\n                <use xlinkHref='./icons.svg#github'></use>\r\n              </svg>\r\n            </a>\r\n            <a href='https://www.linkedin.com/in/amr-abdelmoez/' target='_blank' rel='noopener noreferrer'>\r\n              <svg>\r\n                <use xlinkHref='./icons.svg#linkedin'></use>\r\n              </svg>\r\n            </a>\r\n            <a href='https://codepen.io/amr-adel/' target='_blank' rel='noopener noreferrer'>\r\n              <svg>\r\n                <use xlinkHref='./icons.svg#codepen'></use>\r\n              </svg>\r\n            </a>\r\n          </div>\r\n        </footer>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ListPlaces\r\n","var Data = {\r\n  malls: [\r\n    {\r\n      name: 'Mall of Arabia',\r\n      gmapId: 'ChIJeZAyaVFXWBQRD4a_Vq4vVvg',\r\n      coor: {\r\n        lat: 30.0062993,\r\n        lng: 30.97348050000005\r\n      },\r\n      fsId: '4e64d41e483bd9a975557768'\r\n    },\r\n    {\r\n      name: 'Cairo Festival City Mall',\r\n      gmapId: 'ChIJYQYFKvE8WBQRIJRXhDyYEYE',\r\n      coor: {\r\n        lat: 30.0319579,\r\n        lng: 31.408473100000037\r\n      },\r\n      fsId: '5268f5d2498ee025c2cb6794'\r\n    },\r\n    {\r\n      name: 'Downtown Mall',\r\n      gmapId: 'ChIJ98iK8-88WBQR_RBD6r2sO2A',\r\n      coor: {\r\n        lat: 30.0174272,\r\n        lng: 31.412420500000053\r\n      },\r\n      fsId: '4d5d3a959ac9a09369027994'\r\n    },\r\n    {\r\n      name: 'Americana Plaza',\r\n      gmapId: 'ChIJ4wWsX2paWBQRGPkCKzwfhy0',\r\n      coor: {\r\n        lat: 30.0275716,\r\n        lng: 31.013195600000017\r\n      },\r\n      fsId: '507d61dfe4b087a6ab444d33'\r\n    },\r\n    {\r\n      name: 'Citystars Mall',\r\n      gmapId: 'ChIJo0ecE_gVWBQRGGrouhZFdME',\r\n      coor: {\r\n        lat: 30.072979,\r\n        lng: 31.34604999999999\r\n      },\r\n      fsId: '4b853e48f964a520845231e3'\r\n    },\r\n    {\r\n      name: 'Sun City Mall',\r\n      gmapId: 'ChIJmVTb2UUWWBQRjnpeYIqBncQ',\r\n      coor: {\r\n        lat: 30.102616,\r\n        lng: 31.38614480000001\r\n      },\r\n      fsId: '53e0e485498e46a6b3609b09'\r\n    },\r\n    {\r\n      name: 'Mall Of Egypt',\r\n      gmapId: 'ChIJGfFdneZQWBQRoFxwQ5okV14',\r\n      coor: {\r\n        lat: 29.9722532,\r\n        lng: 31.017524399999957\r\n      },\r\n      fsId: '519dcd44498e2ebd18d8e1d2'\r\n    },\r\n    {\r\n      name: 'First Mall',\r\n      gmapId: 'ChIJnQUHZCdHWBQRDaAJ6j1aog0',\r\n      coor: {\r\n        lat: 30.0242101,\r\n        lng: 31.217196400000034\r\n      },\r\n      fsId: '4c72eb0457b6a143e8d1c6cc'\r\n    },\r\n    {\r\n      name: 'Nile City Towers',\r\n      gmapId: 'ChIJUTumGvpAWBQRdeaHrFtl1HM',\r\n      coor: {\r\n        lat: 30.0715475,\r\n        lng: 31.22782559999996\r\n      },\r\n      fsId: '4ce9181ae888f04d3e2f466b'\r\n    },\r\n    {\r\n      name: 'Porto Cairo Mall',\r\n      gmapId: 'ChIJ5_bMsF89WBQRM7-YOesuHM8',\r\n      coor: {\r\n        lat: 30.0644511,\r\n        lng: 31.42453690000002\r\n      },\r\n      fsId: '4fb8a611e4b04abc0c11d4bc'\r\n    },\r\n    {\r\n      name: 'Genena Mall',\r\n      gmapId: 'ChIJa_i0F2g-WBQRr7xwkbhUzpw',\r\n      coor: {\r\n        lat: 30.0610462,\r\n        lng: 31.3299931\r\n      },\r\n      fsId: '4c4bedd8712ac9282981976d'\r\n    },\r\n    {\r\n      name: 'Arkadia Mall',\r\n      gmapId: 'ChIJNXz3ZvpAWBQRtbdRovhD6aQ',\r\n      coor: {\r\n        lat: 30.069613349999997,\r\n        lng: 31.227202691153604\r\n      },\r\n      fsId: '50dc283de4b057fecdd1e610'\r\n    },\r\n    {\r\n      name: 'Tiba Outlet Mall',\r\n      gmapId: 'ChIJj1eMyEE-WBQRqOFFesZ-c7o',\r\n      coor: {\r\n        lat: 30.06734595,\r\n        lng: 31.32987509169704\r\n      },\r\n      fsId: '4e31e68cb0fbb985a508ee47'\r\n    },\r\n    {\r\n      name: 'Cairo Mall',\r\n      gmapId: 'ChIJAQAAAJxFWBQRCmuO5k3gAb8',\r\n      coor: {\r\n        lat: 29.9986787,\r\n        lng: 31.1735371\r\n      },\r\n      fsId: '4e725f2f183821b8cc96fdac'\r\n    },\r\n    {\r\n      name: 'Talaat Harb Mall',\r\n      gmapId: 'ChIJb1BvepVAWBQRY6OnzlEYbZI',\r\n      coor: {\r\n        lat: 30.05016095,\r\n        lng: 31.239893859811517\r\n      },\r\n      fsId: '4ec14a6b5c5c3d470d610538'\r\n    },\r\n    {\r\n      name: 'City Center Mall',\r\n      gmapId: 'ChIJw4AoL3I-WBQRzql0xs_BnNs',\r\n      coor: {\r\n        lat: 30.0683421,\r\n        lng: 31.3446867\r\n      },\r\n      fsId: '4bd9d7493904a5936cd4439e'\r\n    },\r\n    {\r\n      name: 'Maadi City Center',\r\n      gmapId: 'ChIJa31qzKhHWBQR9KlOjzqX0iM',\r\n      coor: {\r\n        lat: 29.9825607,\r\n        lng: 31.3162377\r\n      },\r\n      fsId: '4c421543a48d9c7418c70c40'\r\n    },\r\n    {\r\n      name: 'Maadi Grand Mall',\r\n      gmapId: 'ChIJESyQo3M4WBQRz5lXBs5ZO5o',\r\n      coor: {\r\n        lat: 29.964932,\r\n        lng: 31.2679123\r\n      },\r\n      fsId: '4bcb02fdcc8cd13ab88abecf'\r\n    },\r\n    {\r\n      name: 'Dandy Mall',\r\n      gmapId: 'ChIJ3QwL3qNbWBQR9nQCXPvj5Z0',\r\n      coor: {\r\n        lat: 30.0633801,\r\n        lng: 31.0255163\r\n      },\r\n      fsId: '4b743b8bf964a520b9ce2de3'\r\n    },\r\n    {\r\n      name: 'Zizinia Mall',\r\n      gmapId: 'ChIJBYbSBnhGWBQRlRQgkTWllls',\r\n      coor: {\r\n        lat: 29.9981988,\r\n        lng: 31.1690108\r\n      },\r\n      fsId: '55081363498ed14f195a8b16'\r\n    }\r\n  ],\r\n  mapStyles: [\r\n    {\r\n      featureType: 'landscape.natural',\r\n      elementType: 'geometry.fill',\r\n      stylers: [\r\n        {\r\n          visibility: 'on'\r\n        },\r\n        {\r\n          color: '#e0efef'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'poi',\r\n      elementType: 'geometry.fill',\r\n      stylers: [\r\n        {\r\n          visibility: 'off'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          lightness: 100\r\n        },\r\n        {\r\n          visibility: 'simplified'\r\n        },\r\n        {\r\n          color: '#e6d7c5'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'labels',\r\n      stylers: [\r\n        {\r\n          visibility: 'off'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'transit.line',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          visibility: 'on'\r\n        },\r\n        {\r\n          lightness: 700\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      featureType: 'water',\r\n      elementType: 'all',\r\n      stylers: [\r\n        {\r\n          color: '#7fc1d3'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\nexport default Data\r\n","import React, { Component } from 'react'\r\nimport Data from './Data'\r\nimport scriptLoader from 'react-async-script-loader'\r\n\r\nclass Map extends Component {\r\n  state = {\r\n    map: null,\r\n    bounds: null,\r\n    markers: [],\r\n    google: null\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\r\n    if (isScriptLoaded && !this.props.isScriptLoaded) {\r\n      if (isScriptLoadSucceed) {\r\n        var map = new window.google.maps.Map(document.getElementById('map'), {\r\n          zoom: 11,\r\n          center: { lat: 30.0444, lng: 31.2357 },\r\n          styles: Data.mapStyles,\r\n          disableDefaultUI: true\r\n        })\r\n\r\n        var bounds = new window.google.maps.LatLngBounds()\r\n\r\n        this.setState({ map: map, bounds: bounds, google: window.google.maps })\r\n      } else alert(`Unable to Load Google Maps`)\r\n    }\r\n  }\r\n\r\n  updateMarkers = function(malls) {\r\n    const { markers, google, map, bounds } = this.state\r\n\r\n    markers.map(marker => marker.setMap(null))\r\n\r\n    let marker\r\n    let newMarkers = []\r\n\r\n    malls.forEach(mall => {\r\n      marker = new google.Marker({\r\n        position: mall.location,\r\n        animation: google.Animation.DROP,\r\n        map: map,\r\n        id: mall.id\r\n      })\r\n\r\n      marker.addListener('click', () => this.selectMall(mall))\r\n\r\n      bounds.extend(mall.location)\r\n\r\n      newMarkers.push(marker)\r\n    })\r\n\r\n    this.setState({ markers: newMarkers })\r\n\r\n    map.fitBounds(bounds)\r\n    map.setCenter(bounds.getCenter())\r\n  }\r\n\r\n  selectMall(mall) {\r\n    if (mall !== this.props.selected) this.props.selectMall(mall)\r\n  }\r\n\r\n  recenterMap = function(coor) {\r\n    this.state.map.setZoom(15)\r\n    this.state.map.setCenter(coor)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { markers, google, map, bounds } = this.state\r\n    const { selected, filteredMalls } = this.props\r\n\r\n    if (google !== prevState.google) {\r\n      this.updateMarkers(filteredMalls)\r\n    }\r\n\r\n    if (google !== null && filteredMalls.length !== prevProps.filteredMalls.length) {\r\n      this.updateMarkers(filteredMalls)\r\n    }\r\n\r\n    markers.map(marker => marker.setAnimation(null))\r\n\r\n    if (selected !== null && markers) {\r\n      const activeMarkerIndex = markers.map(marker => marker.id).indexOf(selected.id)\r\n      markers[activeMarkerIndex].setAnimation(google.Animation.BOUNCE)\r\n\r\n      this.recenterMap(selected.location)\r\n    } else if (google !== null && selected === null) {\r\n      map.fitBounds(bounds)\r\n      map.setCenter(bounds.getCenter())\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='map' role='application' aria-roledescription='map for malls list'>\r\n        Loading map...\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default scriptLoader('https://maps.googleapis.com/maps/api/js?key=AIzaSyCA5F0pGoVUQo0ZTtUInz6Kd_XfmOW3rAI')(Map)\r\n","import React, { Component } from 'react'\r\nimport ListPlaces from './ListPlaces'\r\nimport Map from './Map'\r\nimport './App.css'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      filteredMalls: [],\r\n      selected: null\r\n    }\r\n\r\n    this.updateQuery = this.updateQuery.bind(this)\r\n    this.selectMall = this.selectMall.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`https://api.foursquare.com/v2/venues/search?near=Cairo&categoryId=4bf58dd8d48988d1fd941735&client_id=N0UR5Z3XKXDNY4GWMBV4H4J0VZIHDCKLUZIZ0U4RBNLAE1CG&client_secret=LVDZ0NKPQVY1SMUFSVJJT02ARZOJXWUFMIJ1AZ0ACSLMKNHR&v=20191020`)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.setState({\r\n          malls: data.response.venues,\r\n          filteredMalls: data.response.venues\r\n        })\r\n      })\r\n      .catch(err => alert(`Unable to get data from FourSquare (${err})`))\r\n  }\r\n\r\n  updateQuery(query) {\r\n    this.setState({\r\n      filteredMalls: this.state.malls.filter(mall => mall.name.toLowerCase().indexOf(query.trim().toLowerCase()) !== -1)\r\n    })\r\n  }\r\n\r\n  selectMall = function(mall) {\r\n    this.setState({ selected: mall })\r\n  }\r\n\r\n  render() {\r\n    const { filteredMalls, selected } = this.state\r\n\r\n    return (\r\n      <div className='App'>\r\n        <ListPlaces filter={this.updateQuery} selectMall={this.selectMall} selected={selected} filteredMalls={filteredMalls} />\r\n\r\n        <Map selectMall={this.selectMall} selected={selected} filteredMalls={filteredMalls} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n","module.exports = __webpack_public_path__ + \"static/media/fs_fallback.69fea0a0.jpg\";"],"sourceRoot":""}