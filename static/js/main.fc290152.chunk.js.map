{"version":3,"sources":["ListPlaces.js","Data.js","Map.js","App.js","registerServiceWorker.js","index.js"],"names":["ListPlaces","query","_this$props","this","props","filter","selectMall","selected","document","getElementsByClassName","length","classList","remove","id","_this","fetch","concat","then","res","json","data","detailsOutput","catch","err","alert","details","response","venue","_details$response$ven","bestPhoto","name","ratingColor","rating","location","likes","canonicalUrl","markup","prefix","suffix","formattedAddress","count","querySelector","innerHTML","meta","errorDetail","prevProps","hideInfo","fetchFourSquare","fsId","getElementById","add","mall","target","_this$props2","_this2","filteredMalls","react_default","a","createElement","className","xlinkHref","type","placeholder","aria-label","onChange","e","value","map","key","role","tabIndex","onClick","tagName","onKeyPress","href","rel","Component","Data","malls","gmapId","coor","lat","lng","mapStyles","featureType","elementType","stylers","visibility","color","lightness","Map","state","bounds","markers","google","updateMarkers","marker","_this$state","setMap","newMarkers","forEach","Marker","position","animation","Animation","DROP","addListener","extend","push","setState","fitBounds","setCenter","getCenter","recenterMap","setZoom","isScriptLoaded","_ref","isScriptLoadSucceed","window","maps","zoom","center","styles","disableDefaultUI","LatLngBounds","prevState","_this$state2","setAnimation","activeMarkerIndex","indexOf","BOUNCE","aria-roledescription","scriptLoader","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","sort","b","textA","toUpperCase","textB","localeCompare","updateQuery","bind","assertThisInitialized","toLowerCase","trim","src_ListPlaces","src_Map","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","error","ReactDOM","render","src_App_0","URL","process","origin","addEventListener","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.fc290152.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ListPlaces extends Component {\r\n\r\n    filter(query) {\r\n        const { filter, selectMall } = this.props\r\n\r\n        filter(query)\r\n\r\n        selectMall(null)\r\n    }\r\n\r\n    hideInfo() {\r\n        let selected = document.getElementsByClassName('selected')\r\n\r\n        if (selected.length !== 0) {\r\n            selected[0].classList.remove('selected')\r\n        }\r\n    }\r\n\r\n    fetchFourSquare(id) {\r\n        fetch(`https://api.foursquare.com/v2/venues/${id}?client_id=N0UR5Z3XKXDNY4GWMBV4H4J0VZIHDCKLUZIZ0U4RBNLAE1CG&client_secret=LVDZ0NKPQVY1SMUFSVJJT02ARZOJXWUFMIJ1AZ0ACSLMKNHR&v=20180620`)\r\n            .then(res => res.json())\r\n            .then(data => this.detailsOutput(data))\r\n            .catch(err => alert(`Unable to get data from FourSquare (${err})`))\r\n    }\r\n\r\n    detailsOutput(details) {\r\n        if (details.response.venue) {\r\n\r\n            const { bestPhoto, name, ratingColor, rating, location, likes, canonicalUrl, id } = details.response.venue\r\n\r\n            const markup = `\r\n                <img class=\"photo\" src=\"${bestPhoto.prefix}500x300${bestPhoto.suffix}\" alt=\"${name}\" onload=\"this.parentElement.parentElement.scrollIntoView({behavior: 'smooth'})\">\r\n                <div class=\"rating\" style=\"color: #${ratingColor};\">${rating}</div>\r\n                <div class=\"address\"><svg><use xlink:href=\"./icons.svg#marker\"></use></svg>${location.formattedAddress[0]}</div>\r\n                <div class=\"status\"><svg><use xlink:href=\"./icons.svg#like\"></use></svg>Liked by ${likes.count} user</div>\r\n                <a class=\"link\" href=\"${canonicalUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">More on FourSquare<svg><use xlink:href=\"./icons.svg#link\"></use></svg></a>\r\n            `\r\n\r\n            document.querySelector(`#fs${id} .details`).innerHTML = markup\r\n\r\n        } else {\r\n            alert(`Unable to get details from FourSquare (${details.meta.errorDetail})`)\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { selected } = this.props\r\n\r\n        if (prevProps.selected === selected) {\r\n            return false\r\n        } else {\r\n            this.hideInfo()\r\n\r\n            if (selected !== null) {\r\n\r\n                this.fetchFourSquare(selected.fsId)\r\n\r\n                document.getElementById('fs' + selected.fsId).classList.add('selected')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    selectMall(mall, target) {\r\n        const { selected, selectMall } = this.props\r\n\r\n        if (target === 'SPAN') {\r\n            selectMall(null)\r\n        } else if (selected === mall) {\r\n            return false\r\n        } else {\r\n            selectMall(mall)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { filteredMalls } = this.props\r\n\r\n        return (\r\n            <section className=\"sidebar\">\r\n                <header className=\"header\">\r\n                    <div className=\"brand\">\r\n                        <h1><svg className=\"logo\"><use xlinkHref=\"./icons.svg#bag\"></use></svg>Malls<span>Of</span>Cairo</h1>\r\n                    </div>\r\n                </header>\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"filter\"\r\n                    placeholder=\"Filter Places\"\r\n                    aria-label=\"Filter\"\r\n                    onChange={e => this.filter(e.target.value)}\r\n                />\r\n\r\n                <ol className=\"places\">\r\n                    {filteredMalls.length > 0 ?\r\n                        filteredMalls.map(mall => (\r\n                            <li\r\n                                key={mall.fsId}\r\n                                className=\"place\"\r\n                                role=\"button\"\r\n                                tabIndex=\"0\"\r\n                                id={`fs${mall.fsId}`}\r\n                                onClick={(e) => this.selectMall(mall, e.target.tagName)}\r\n                                onKeyPress={(e) => this.selectMall(mall, e.target.tagName)}\r\n                            >\r\n\r\n                                <h4 className=\"name\">{mall.name}</h4>\r\n                                <span className=\"close\" aria-label=\"Close\" role=\"button\" tabIndex=\"0\" >X</span>\r\n                                <div className=\"details\">Loading mall details...</div>\r\n\r\n                            </li>\r\n                        ))\r\n                        : <li className=\"place\" key=\"no-match\">\r\n                            <h4 className=\"name\">Unfortunately, your keyword doesn't match any of the listed malls.</h4>\r\n                        </li>\r\n                    }\r\n                </ol>\r\n\r\n                <footer className=\"footer\" id=\"footer\">\r\n                    <div className=\"footer__follow\">\r\n                        <a href=\"https://twitter.com/fullstackamr/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <svg>\r\n                                <use xlinkHref=\"./icons.svg#twitter\"></use>\r\n                            </svg>\r\n                        </a >\r\n                        <a href=\"https://github.com/amr-adel/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <svg>\r\n                                <use xlinkHref=\"./icons.svg#github\"></use>\r\n                            </svg>\r\n                        </a>\r\n                        <a href=\"https://www.linkedin.com/in/amr-abdelmoez/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <svg>\r\n                                <use xlinkHref=\"./icons.svg#linkedin\"></use>\r\n                            </svg>\r\n                        </a>\r\n                        <a href=\"https://codepen.io/amr-adel/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <svg>\r\n                                <use xlinkHref=\"./icons.svg#codepen\"></use>\r\n                            </svg>\r\n                        </a>\r\n                    </div >\r\n                </footer >\r\n\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ListPlaces;\r\n","var Data = {\r\n    \"malls\": [{\r\n            \"name\": \"Mall of Arabia\",\r\n            \"gmapId\": \"ChIJeZAyaVFXWBQRD4a_Vq4vVvg\",\r\n            \"coor\": {\r\n                \"lat\": 30.0062993,\r\n                \"lng\": 30.97348050000005\r\n            },\r\n            \"fsId\": \"4e64d41e483bd9a975557768\"\r\n        },\r\n        {\r\n            \"name\": \"Cairo Festival City Mall\",\r\n            \"gmapId\": \"ChIJYQYFKvE8WBQRIJRXhDyYEYE\",\r\n            \"coor\": {\r\n                \"lat\": 30.0319579,\r\n                \"lng\": 31.408473100000037\r\n            },\r\n            \"fsId\": \"5268f5d2498ee025c2cb6794\"\r\n        },\r\n        {\r\n            \"name\": \"Downtown Mall\",\r\n            \"gmapId\": \"ChIJ98iK8-88WBQR_RBD6r2sO2A\",\r\n            \"coor\": {\r\n                \"lat\": 30.0174272,\r\n                \"lng\": 31.412420500000053\r\n            },\r\n            \"fsId\": \"4d5d3a959ac9a09369027994\"\r\n        },\r\n        {\r\n            \"name\": \"Americana Plaza\",\r\n            \"gmapId\": \"ChIJ4wWsX2paWBQRGPkCKzwfhy0\",\r\n            \"coor\": {\r\n                \"lat\": 30.0275716,\r\n                \"lng\": 31.013195600000017\r\n            },\r\n            \"fsId\": \"507d61dfe4b087a6ab444d33\"\r\n        },\r\n        {\r\n            \"name\": \"Citystars Mall\",\r\n            \"gmapId\": \"ChIJo0ecE_gVWBQRGGrouhZFdME\",\r\n            \"coor\": {\r\n                \"lat\": 30.072979,\r\n                \"lng\": 31.34604999999999\r\n            },\r\n            \"fsId\": \"4b853e48f964a520845231e3\"\r\n        },\r\n        {\r\n            \"name\": \"Sun City Mall\",\r\n            \"gmapId\": \"ChIJmVTb2UUWWBQRjnpeYIqBncQ\",\r\n            \"coor\": {\r\n                \"lat\": 30.102616,\r\n                \"lng\": 31.38614480000001\r\n            },\r\n            \"fsId\": \"53e0e485498e46a6b3609b09\"\r\n        },\r\n        {\r\n            \"name\": \"Mall Of Egypt\",\r\n            \"gmapId\": \"ChIJGfFdneZQWBQRoFxwQ5okV14\",\r\n            \"coor\": {\r\n                \"lat\": 29.9722532,\r\n                \"lng\": 31.017524399999957\r\n            },\r\n            \"fsId\": \"519dcd44498e2ebd18d8e1d2\"\r\n        },\r\n        {\r\n            \"name\": \"First Mall\",\r\n            \"gmapId\": \"ChIJnQUHZCdHWBQRDaAJ6j1aog0\",\r\n            \"coor\": {\r\n                \"lat\": 30.0242101,\r\n                \"lng\": 31.217196400000034\r\n            },\r\n            \"fsId\": \"4c72eb0457b6a143e8d1c6cc\"\r\n        },\r\n        {\r\n            \"name\": \"Nile City Towers\",\r\n            \"gmapId\": \"ChIJUTumGvpAWBQRdeaHrFtl1HM\",\r\n            \"coor\": {\r\n                \"lat\": 30.0715475,\r\n                \"lng\": 31.22782559999996\r\n            },\r\n            \"fsId\": \"4ce9181ae888f04d3e2f466b\"\r\n        },\r\n        {\r\n            \"name\": \"Porto Cairo Mall\",\r\n            \"gmapId\": \"ChIJ5_bMsF89WBQRM7-YOesuHM8\",\r\n            \"coor\": {\r\n                \"lat\": 30.0644511,\r\n                \"lng\": 31.42453690000002\r\n            },\r\n            \"fsId\": \"4fb8a611e4b04abc0c11d4bc\"\r\n        },\r\n        {\r\n            \"name\": \"Genena Mall\",\r\n            \"gmapId\": \"ChIJa_i0F2g-WBQRr7xwkbhUzpw\",\r\n            \"coor\": {\r\n                \"lat\": 30.0610462,\r\n                \"lng\": 31.3299931\r\n            },\r\n            \"fsId\": \"4c4bedd8712ac9282981976d\"\r\n        },\r\n        {\r\n            \"name\": \"Arkadia Mall\",\r\n            \"gmapId\": \"ChIJNXz3ZvpAWBQRtbdRovhD6aQ\",\r\n            \"coor\": {\r\n                \"lat\": 30.069613349999997,\r\n                \"lng\": 31.227202691153604\r\n            },\r\n            \"fsId\": \"50dc283de4b057fecdd1e610\"\r\n        },\r\n        {\r\n            \"name\": \"Tiba Outlet Mall\",\r\n            \"gmapId\": \"ChIJj1eMyEE-WBQRqOFFesZ-c7o\",\r\n            \"coor\": {\r\n                \"lat\": 30.06734595,\r\n                \"lng\": 31.32987509169704\r\n            },\r\n            \"fsId\": \"4e31e68cb0fbb985a508ee47\"\r\n        },\r\n        {\r\n            \"name\": \"Cairo Mall\",\r\n            \"gmapId\": \"ChIJAQAAAJxFWBQRCmuO5k3gAb8\",\r\n            \"coor\": {\r\n                \"lat\": 29.9986787,\r\n                \"lng\": 31.1735371\r\n            },\r\n            \"fsId\": \"4e725f2f183821b8cc96fdac\"\r\n        },\r\n        {\r\n            \"name\": \"Talaat Harb Mall\",\r\n            \"gmapId\": \"ChIJb1BvepVAWBQRY6OnzlEYbZI\",\r\n            \"coor\": {\r\n                \"lat\": 30.05016095,\r\n                \"lng\": 31.239893859811517\r\n            },\r\n            \"fsId\": \"4ec14a6b5c5c3d470d610538\"\r\n        },\r\n        {\r\n            \"name\": \"City Center Mall\",\r\n            \"gmapId\": \"ChIJw4AoL3I-WBQRzql0xs_BnNs\",\r\n            \"coor\": {\r\n                \"lat\": 30.0683421,\r\n                \"lng\": 31.3446867\r\n            },\r\n            \"fsId\": \"4bd9d7493904a5936cd4439e\"\r\n        },\r\n        {\r\n            \"name\": \"Maadi City Center\",\r\n            \"gmapId\": \"ChIJa31qzKhHWBQR9KlOjzqX0iM\",\r\n            \"coor\": {\r\n                \"lat\": 29.9825607,\r\n                \"lng\": 31.3162377\r\n            },\r\n            \"fsId\": \"4c421543a48d9c7418c70c40\"\r\n        },\r\n        {\r\n            \"name\": \"Maadi Grand Mall\",\r\n            \"gmapId\": \"ChIJESyQo3M4WBQRz5lXBs5ZO5o\",\r\n            \"coor\": {\r\n                \"lat\": 29.964932,\r\n                \"lng\": 31.2679123\r\n            },\r\n            \"fsId\": \"4bcb02fdcc8cd13ab88abecf\"\r\n        },\r\n        {\r\n            \"name\": \"Dandy Mall\",\r\n            \"gmapId\": \"ChIJ3QwL3qNbWBQR9nQCXPvj5Z0\",\r\n            \"coor\": {\r\n                \"lat\": 30.0633801,\r\n                \"lng\": 31.0255163\r\n            },\r\n            \"fsId\": \"4b743b8bf964a520b9ce2de3\"\r\n        },\r\n        {\r\n            \"name\": \"Zizinia Mall\",\r\n            \"gmapId\": \"ChIJBYbSBnhGWBQRlRQgkTWllls\",\r\n            \"coor\": {\r\n                \"lat\": 29.9981988,\r\n                \"lng\": 31.1690108\r\n            },\r\n            \"fsId\": \"55081363498ed14f195a8b16\"\r\n        }\r\n    ],\r\n    mapStyles: [{\r\n            \"featureType\": \"landscape.natural\",\r\n            \"elementType\": \"geometry.fill\",\r\n            \"stylers\": [{\r\n                    \"visibility\": \"on\"\r\n                },\r\n                {\r\n                    \"color\": \"#e0efef\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"featureType\": \"poi\",\r\n            \"elementType\": \"geometry.fill\",\r\n            \"stylers\": [{\r\n                    \"visibility\": \"off\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"featureType\": \"road\",\r\n            \"elementType\": \"geometry\",\r\n            \"stylers\": [{\r\n                    \"lightness\": 100\r\n                },\r\n                {\r\n                    \"visibility\": \"simplified\"\r\n                },\r\n                {\r\n                    \"color\": \"#e6d7c5\"\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"featureType\": \"road\",\r\n            \"elementType\": \"labels\",\r\n            \"stylers\": [{\r\n                \"visibility\": \"off\"\r\n            }]\r\n        },\r\n        {\r\n            \"featureType\": \"transit.line\",\r\n            \"elementType\": \"geometry\",\r\n            \"stylers\": [{\r\n                    \"visibility\": \"on\"\r\n                },\r\n                {\r\n                    \"lightness\": 700\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"featureType\": \"water\",\r\n            \"elementType\": \"all\",\r\n            \"stylers\": [{\r\n                \"color\": \"#7fc1d3\"\r\n            }]\r\n        }\r\n    ]\r\n}\r\n\r\nexport default Data","import React, { Component } from 'react'\r\nimport Data from \"./Data\";\r\nimport scriptLoader from 'react-async-script-loader'\r\n\r\nclass Map extends Component {\r\n\r\n    state = {\r\n        map: null,\r\n        bounds: null,\r\n        markers: [],\r\n        google: null\r\n    }\r\n\r\n    componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\r\n        if (isScriptLoaded && !this.props.isScriptLoaded) {\r\n            if (isScriptLoadSucceed) {\r\n                var map = new window.google.maps.Map(document.getElementById('map'), {\r\n                    zoom: 11,\r\n                    center: { lat: 30.0444, lng: 31.2357 },\r\n                    styles: Data.mapStyles,\r\n                    disableDefaultUI: true\r\n                });\r\n\r\n                var bounds = new window.google.maps.LatLngBounds();\r\n\r\n                this.setState({ map: map, bounds: bounds, google: window.google.maps })\r\n\r\n            }\r\n            else alert(`Unable to Load Google Maps`)\r\n        }\r\n    }\r\n\r\n\r\n    updateMarkers = function (malls) {\r\n        const { markers, google, map, bounds } = this.state\r\n\r\n        markers.map(marker => marker.setMap(null))\r\n\r\n        let marker;\r\n        let newMarkers = [];\r\n\r\n        malls.forEach(mall => {\r\n            marker = new google.Marker({\r\n                position: mall.coor,\r\n                animation: google.Animation.DROP,\r\n                map: map,\r\n                fsId: mall.fsId\r\n            })\r\n\r\n            marker.addListener('click', () => this.selectMall(mall))\r\n\r\n            bounds.extend(mall.coor)\r\n\r\n            newMarkers.push(marker)\r\n        })\r\n\r\n        this.setState({ markers: newMarkers })\r\n\r\n        map.fitBounds(bounds)\r\n        map.setCenter(bounds.getCenter())\r\n\r\n    }\r\n\r\n    selectMall(mall) {\r\n        if (mall !== this.props.selected) this.props.selectMall(mall)\r\n    }\r\n\r\n    recenterMap = function (coor) {\r\n        this.state.map.setZoom(15)\r\n        this.state.map.setCenter(coor)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { markers, google, map, bounds } = this.state\r\n        const { selected, filteredMalls } = this.props\r\n\r\n        if (google !== prevState.google) {\r\n            this.updateMarkers(filteredMalls)\r\n        }\r\n\r\n        if (google !== null && filteredMalls.length !== prevProps.filteredMalls.length) {\r\n            this.updateMarkers(filteredMalls)\r\n        }\r\n\r\n        markers.map(marker => marker.setAnimation(null))\r\n\r\n        if (selected !== null && markers) {\r\n\r\n            const activeMarkerIndex = markers.map(marker => marker.fsId).indexOf(selected.fsId)\r\n            markers[activeMarkerIndex].setAnimation(google.Animation.BOUNCE)\r\n\r\n            this.recenterMap(selected.coor)\r\n        } else if (google !== null && selected === null) {\r\n\r\n            map.fitBounds(bounds)\r\n            map.setCenter(bounds.getCenter())\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            <div id='map' role=\"application\" aria-roledescription=\"map for malls list\">\r\n                Loading map...\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default scriptLoader(\r\n    'https://maps.googleapis.com/maps/api/js?key=AIzaSyCA5F0pGoVUQo0ZTtUInz6Kd_XfmOW3rAI'\r\n)(Map)","import React, { Component } from 'react';\r\nimport ListPlaces from \"./ListPlaces\";\r\nimport Data from \"./Data\";\r\nimport Map from \"./Map\";\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            malls: Data.malls.sort((a, b) => {\r\n                // https://stackoverflow.com/questions/48111425/sort-objects-in-an-array-alphabetically-based-on-one-property\r\n                let textA = a.name.toUpperCase();\r\n                let textB = b.name.toUpperCase();\r\n                return textA.localeCompare(textB);\r\n            }),\r\n            filteredMalls: [],\r\n            selected: null\r\n        };\r\n\r\n        this.updateQuery = this.updateQuery.bind(this)\r\n        this.selectMall = this.selectMall.bind(this)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            filteredMalls: this.state.malls\r\n        })\r\n    }\r\n\r\n    updateQuery(query) {\r\n        this.setState({\r\n            filteredMalls: this.state.malls.filter(mall => mall.name.toLowerCase().indexOf(query.trim().toLowerCase()) !== -1)\r\n        })\r\n    }\r\n\r\n    selectMall = function (mall) {\r\n        this.setState({ selected: mall })\r\n    }\r\n\r\n    render() {\r\n\r\n        const {filteredMalls, selected} = this.state\r\n\r\n        return (\r\n            <div className=\"App\">\r\n\r\n                <ListPlaces\r\n                    filter={this.updateQuery}\r\n                    selectMall={this.selectMall}\r\n                    selected={selected}\r\n                    filteredMalls={filteredMalls}\r\n                />\r\n\r\n                <Map\r\n                    selectMall={this.selectMall}\r\n                    selected={selected}\r\n                    filteredMalls={filteredMalls}\r\n                />\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}